if(!AGO)var AGO={};AGO.Notify={status:0,Problem:[],problem:0,Run:function(){AGO.App.reload||(AGO.App.upgradeAvailable&&AGO.Notify.set("Problem",4),AGO.Events.included||AGO.Notify.set("Problem",6),1!==AGO.Uni.status&&AGO.Notify.set("Problem",11),1!==AGO.Units.Data.status&&AGO.Notify.set("Problem",12),1!==AGO.Label.Data.status&&AGO.Notify.set("Problem",13),1!==AGO.App.storage&&AGO.Notify.set("Problem",15),1!==AGO.Option.Data.status&&AGO.Notify.set("Problem",17),AGO.App.twice&&AGO.Notify.set("Problem",18))},set:function(e,t,a){var i,o;if("Problem"===e){for((AGO.Notify.problem=0)<(t=4===t&&AGO.Option.is("S44")||5===t&&AGO.Option.is("S45")||6===t&&(AGO.Option.is("S46")||!AGO.Option.is("E30"))||8===t&&AGO.Option.is("S48")?0:t)?AGO.Notify.Problem[t]=t:t<0&&(AGO.Notify.Problem[Math.abs(t)]=0),t=0;t<AGO.Notify.Problem.length;t++)AGO.Notify.Problem[t]>AGO.Notify.problem&&(AGO.Notify.problem=t);t=0}5<AGO.Init.status&&("Hide"===e&&(AGO.Notify.loading=!1),3===t&&(AGO.Notify.loading=!0),o=HTML.colorStatusData(t),3!==t&&(AGO.Notify.color=20<=AGO.Notify.problem?"#FF0000":10<AGO.Notify.problem?"#FF4B00":AGO.Notify.loading?"#FF4B00":5<=AGO.Notify.problem?"#FF9600":4<=AGO.Notify.problem?"#FFB500":AGO.Notify.problem?"#00B000":"",AGO.Main.updateButton()),"Notify"===e?(NMR.isMinMax(AGO.Notify.problem,1,19)&&(i=AGO.Label.is("S"+(AGO.Notify.problem+60))),o=AGO.Notify.color):i=AGO.Label.is(e),5<AGO.Init.status&&i&&AGO.Main.updateInfo(e,i+(a||""),o))}},AGO.Option={Data:{},Start:function(){3<=AGO.App.mode&&(AGO.Option.Data=AGO.Data.getStorage(AGO.App.keyPlayer+"_Option","JSON"))},Init:function(e){AGO.Option.Data=OBJ.is(e)?e:{},AGO.Init.mobile=AGO.Option.is("U51")&&(AGO.isMobile||1<AGO.Option.get("U51",2)),AGO.Init.touch=AGO.Option.is("U52")&&(AGO.isMobile||AGO.Init.mobile||1<AGO.Option.get("U52",2)),AGO.App.reload&&AGO.Option.Save()},Save:function(){AGO.Data.setStorage(AGO.App.keyPlayer+"_Option",{O04:AGO.Option.is("O04"),U31:AGO.Option.is("U31"),U32:AGO.Option.isAnd("U31","U32")})},set:function(e,t,a){e&&(t=6<=a?STR.check(t):1===a?t?1:0:+t||0,AGO.Option.Data[e]=t,AGB.message("Option","Set",{id:e,value:t},function(e){e&&(AGO.Option.Data[e.id]=e.value)}))},get:function(e,t){return t?2===t?+AGO.Option.Data[e]||0:1===t?Boolean(AGO.Option.Data[e]):e in AGO.Option.Data?"string"==typeof AGO.Option.Data[e]?AGO.Option.Data[e]:STR.check(AGO.Option.Data[e]):"":e in AGO.Option.Data?AGO.Option.Data[e]:""},is:function(e){return Boolean(AGO.Option.Data[e])},isAnd:function(e,t){return Boolean(AGO.Option.Data[e]&&AGO.Option.Data[t])},getPair:function(e){return 2===(e=STR.check(AGO.Option.Data[e]).split("|",2)).length?e:""},Menu:function(){document.getElementById("ago_menu")||AGB.message("App","Script",{scripts:["menu"]})}},AGO.Label={Data:{},Init:function(e){AGO.Label.Data=OBJ.is(e)?e:{}},Update:function(){var e;AGO.App.OgameMain&&(e={localization:AGO.Global.message({role:"getProperty",property:"LocalizationStrings"}),production:OBJ.parse(AGO.Init.Script("production"))},AGB.message("Label","Update",{data:e}))},get:function(e,t){return e?(t&&(e=(2===t?"K":"L")+(AGO.Item.ResourceEnergy[e]?AGO.Item.ResourceEnergy[e]:1===e.length?"00"+e:2===e.length?"0"+e:e)),e in AGO.Label.Data?(AGO.Label.Data[e]||"").replace(/&amp;/g,"&"):e):""},is:function(e){return e in AGO.Label.Data?(AGO.Label.Data[e]||"").replace(/&amp;/g,"&"):""}},AGO.Styles={status:0,Data:null,opacity:33,colorStatusData:"#FF0000 #FF0000  #008000 #FFB500 #FF4B00 #00B000".split(" "),classStatusData:"ago_color_red ago_color_red  ago_color_green ago_color_lightorange ago_color_darkorange ago_color_lightgreen".split(" "),classType:["","ago_color_planet","ago_color_debris","ago_color_moon"],classVisible:"ago_visible_hide ago_visible_hide ago_visible_weakest ago_visible_weaker ago_visible_weak ago_visible_middle ago_visible_strong ago_visible_stronger ago_visible_strongest ago_visible_show".split(" "),classFleet:" ago_color_hostile ago_color_neutral ago_color_own ago_color_reverse ago_color_friend ago_color_enemy".split(" "),Start:function(){function e(e){return e?'@import url("'+AGO.App.pathSkin+"ago/"+e+'.css");':""}var t,a,i=[];3<=AGO.App.mode&&AGO.App.keyPlayer&&(document.documentElement.style.overflowY="scroll","Color"in(a=AGO.Data.getStorage(AGO.App.keyPlayer+"_Styles","JSON"))&&(AGO.Styles.status=1,AGO.Styles.Data=a,OBJ.is(a.colorType)&&(AGO.Styles.colorType=a.colorType),OBJ.is(a.Page)||(a.Page={}),t=AGO.App.page,OBJ.is(a[t])&&("file"in a[t]&&(a.Page.file=a[t].file),"improve"in a[t]&&(a.Page.improve=a[t].improve),"events"in a[t]&&(a.Page.events=a[t].events)),a.Events&&(AGO.Events.modeBehavior=+a.Page.events||0,AGO.Events.modeBehaviorAbove=VAL.check(AGO.Events.modeBehavior,1,2,5,6),AGO.Events.modeBehavior&&(AGO.Events.modeBehaviorAbove?i.push("#eventboxContent:not(:first-child){display:none;}"):i.push("#eventboxContent:first-child{display:none;}"),AGO.Events.modeBehavior<5&&i.push("#eventboxContent, #eventboxContent #eventListWrap{ display: none; }"))),a.Styles=i.join(""),t=document.createDocumentFragment(),DOM.append(t,"style",{type:"text/css",media:"screen"}).textContent=e(a.Main)+e(a.Planets)+e(a.Events)+e(a.Page.file)+e(a.Mobile)+(a.Skin||"")+(a.Color||""),AGO.isFirefox&&document.head&&AGO.App.beta<3?DOM.appendChild(document.head,t):DOM.prependChild(document.documentElement,t),window.setTimeout(AGO.Styles.preload,5)))},Init:function(){var e;e=document.createDocumentFragment(),AGO.Styles.Sheet=DOM.append(e,"style",{type:"text/css",media:"screen"}),AGO.App.Ogame&&OBJ.is(AGO.Styles.Data)&&(OBJ.get(AGO.Styles.Data.Page,"improve")&&("overview"===AGO.App.page&&1!==AGO.Acc.type||DOM.extendClass(document.body,null,"ago_improve")),AGO.Styles.set(AGO.Styles.Data.Styles)),document.head.appendChild(e)},Load:function(e){AGO.App.Ogame&&(1!==AGO.Styles.status||AGO.App.reload||e)&&(AGB.Log("Update   - Styles   :",!0),AGB.message("Styles","Init",{mobile:AGO.App.OgameMobile},function(e){AGO.Data.setStorage(AGO.App.keyPlayer+"_Styles",e),1!==AGO.Styles.status&&(AGO.Styles.Start(),AGO.Styles.Init())}))},set:function(e){STR.check(e)&&AGO.Styles.Sheet&&AGO.Styles.Sheet.appendChild(document.createTextNode(e))},preload:function(){var e,t;for(e=["menu_logo.png"],t=0;t<e.length;t++)(new window.Image).src=HTML.urlImage(e[t]);if(VAL.check(AGO.App.page,"fleet1","fleet2")){for(e=["0",1,2,3,4,5,6,7,8,9,10,13,15],t=0;t<e.length;t++)(new window.Image).src=HTML.urlImage("task/mission-"+e[t]+".gif");for(e="0a 0b 1a 1b 1c 2a 2b 3a 3b 3c".split(" "),t=0;t<e.length;t++)(new window.Image).src=HTML.urlImage("task/type-"+e[t]+".gif")}else"fleet3"===AGO.App.page&&((new window.Image).src=HTML.urlImage("fleet3_send_green.gif"),(new window.Image).src=HTML.urlImage("fleet3_send_orange.gif")),(new window.Image).src=HTML.urlImage("task/type-3a.gif")}},AGO.Item={1:{metal:60,crystal:15,deuterium:0,factor:1.5},2:{metal:48,crystal:24,deuterium:0,factor:1.6},3:{metal:225,crystal:75,deuterium:0,factor:1.5},4:{metal:75,crystal:30,deuterium:0,factor:1.5},12:{metal:900,crystal:360,deuterium:180,factor:1.8},14:{metal:400,crystal:120,deuterium:200,factor:2},15:{metal:1e6,crystal:5e5,deuterium:1e5,factor:2},21:{metal:400,crystal:200,deuterium:100,factor:2},22:{metal:1e3,crystal:0,deuterium:0,factor:2},23:{metal:1e3,crystal:500,deuterium:0,factor:2},24:{metal:1e3,crystal:1e3,deuterium:0,factor:2},25:{metal:2645,crystal:0,deuterium:0,factor:2.3},26:{metal:2645,crystal:1322,deuterium:0,factor:2.3},27:{metal:2645,crystal:2645,deuterium:0,factor:2.3},31:{metal:200,crystal:400,deuterium:200,factor:2},33:{metal:0,crystal:5e4,deuterium:1e5,factor:2},34:{metal:2e4,crystal:4e4,deuterium:0,factor:2},41:{metal:2e4,crystal:4e4,deuterium:2e4,factor:2},42:{metal:2e4,crystal:4e4,deuterium:2e4,factor:2},43:{metal:2e6,crystal:4e6,deuterium:2e6,factor:2},44:{metal:2e4,crystal:2e4,deuterium:1e3,factor:2},106:{metal:200,crystal:1e3,deuterium:200,factor:2},108:{metal:0,crystal:400,deuterium:600,factor:2},109:{metal:800,crystal:200,deuterium:0,factor:2},110:{metal:200,crystal:600,deuterium:0,factor:2},111:{metal:1e3,crystal:0,deuterium:0,factor:2},113:{metal:0,crystal:800,deuterium:400,factor:2},114:{metal:0,crystal:4e3,deuterium:2e3,factor:2},115:{metal:400,crystal:0,deuterium:600,factor:2},117:{metal:2e3,crystal:4e3,deuterium:600,factor:2},118:{metal:1e4,crystal:2e4,deuterium:6e3,factor:2},120:{metal:200,crystal:100,deuterium:0,factor:2},121:{metal:1e3,crystal:300,deuterium:100,factor:2},122:{metal:2e3,crystal:4e3,deuterium:1e3,factor:2},123:{metal:24e4,crystal:4e5,deuterium:16e4,factor:2},124:{metal:4e3,crystal:8e3,deuterium:4e3,factor:1.75},199:{metal:0,crystal:0,deuterium:0,factor:3},202:{metal:2e3,crystal:2e3,deuterium:0,retreat:1e3,drive:"115",speed:5e3,capacity:5e3,consumption:20},203:{metal:6e3,crystal:6e3,deuterium:0,retreat:3e3,drive:"115",speed:7500,capacity:25e3,consumption:50},204:{metal:3e3,crystal:1e3,deuterium:0,retreat:4e3,drive:"115",speed:12500,capacity:50,consumption:20},205:{metal:6e3,crystal:4e3,deuterium:0,retreat:1e4,drive:"117",speed:1e4,capacity:100,consumption:75},206:{metal:2e4,crystal:7e3,deuterium:2e3,retreat:29e3,drive:"117",speed:15e3,capacity:800,consumption:300},207:{metal:45e3,crystal:15e3,deuterium:0,retreat:6e4,drive:"118",speed:1e4,capacity:1500,consumption:500},208:{metal:1e4,crystal:2e4,deuterium:1e4,retreat:1e4,drive:"117",speed:2500,capacity:7500,consumption:1e3},209:{metal:1e4,crystal:6e3,deuterium:2e3,retreat:4500,drive:"115",speed:2e3,capacity:2e4,consumption:300},210:{metal:0,crystal:1e3,deuterium:0,retreat:0,drive:"115",speed:1e8,capacity:0,consumption:1},211:{metal:5e4,crystal:25e3,deuterium:15e3,retreat:9e4,drive:"117",speed:4e3,capacity:500,consumption:1e3},212:{metal:0,crystal:2e3,deuterium:500,retreat:0,drive:0,speed:0,capacity:0,consumption:0},213:{metal:6e4,crystal:5e4,deuterium:15e3,retreat:125e3,drive:"118",speed:5e3,capacity:2e3,consumption:1e3},214:{metal:5e6,crystal:4e6,deuterium:1e6,retreat:1e7,drive:"118",speed:100,capacity:1e6,consumption:1},215:{metal:3e4,crystal:4e4,deuterium:15e3,retreat:85e3,drive:"118",speed:1e4,capacity:750,consumption:250},401:{metal:2e3,crystal:0,deuterium:0,retreat:2e3},402:{metal:1500,crystal:500,deuterium:0,retreat:2e3},403:{metal:6e3,crystal:2e3,deuterium:0,retreat:8e3},404:{metal:2e4,crystal:15e3,deuterium:2e3,retreat:37e3},405:{metal:2e3,crystal:6e3,deuterium:0,retreat:8e3},406:{metal:5e4,crystal:5e4,deuterium:3e4,retreat:13e4},407:{metal:1e4,crystal:1e4,deuterium:0,retreat:2e4},408:{metal:5e4,crystal:5e4,deuterium:0,retreat:1e5},502:{metal:8e3,crystal:0,deuterium:2e3,retreat:0},503:{metal:12500,crystal:2500,deuterium:1e4,retreat:0},Mining:{1:1,2:1,3:1,4:1,12:1,22:1,23:1,24:1,25:1,26:1,27:1,212:1},Station:{14:1,15:1,21:1,31:1,33:1,34:1,41:1,42:1,43:1,44:1},Ship:{202:1,203:1,204:2,205:2,206:2,207:2,208:1,209:1,210:1,211:2,212:3,213:2,214:2,215:2},ShipCivil:{202:1,203:1,208:1,209:1,210:1},ShipCombat:{204:2,205:2,206:2,207:2,215:2,211:2,213:2,214:2},ShipTransport:{203:1,202:1,209:1,214:1},Defense:{401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,502:2,503:2},Resource:{metal:"091",crystal:"092",deuterium:"093"},ResourceEnergy:{metal:"091",crystal:"092",deuterium:"093",energy:"094"},Coordinates:{galaxy:1,system:1,position:1},CoordinatesType:{galaxy:1,system:1,position:1,type:1},Type:{1:"planet",2:"debris",3:"moon"},Research:{106:8,108:10,109:3,110:6,111:2,113:12,114:-8,115:6,117:6,118:8,120:-12,121:5,122:7,123:0,124:8,199:-1},ByName:{},Mission:{M15:0,M07:0,M08:0,M03:0,M04:0,M06:0,M05:0,M01:0,M02:0,M09:0},Init:function(e){AGO.Item.ByName=e||{}},getByName:function(e){return e&&AGO.Item.ByName[e]||""},check:function(e,t,a){return(e=STR.check(e))&&t&&e in t?e:STR.check(a)},valid:function(e){return 1<=+e&&+e<=503&&e in AGO.Item?e:""},create:function(e){var t,a={};for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)AGO.Item[e[t]]&&OBJ.iterate(AGO.Item[e[t]],function(e){a[e]=0});return a}},AGO.Ogame={getFleetDistance:function(e,t){var a;if(OBJ.is(e)&&OBJ.is(t)){if(a=Math.abs(e.galaxy-t.galaxy))return 2e4*a;if(a=Math.abs(e.system-t.system))return 95*a+2700;if(a=Math.abs(e.position-t.position))return 5*a+1e3}return 5},getFleetDuration:function(e,t,a){return e in AGO.Item.Ship&&t?Math.round((35e3/(a||10)*Math.sqrt(10*t/AGO.Ogame.getShipSpeed(e))+10)/(+AGO.Uni.speedFleet||1)):0},getShipConsumption:function(e,t,a){return e in AGO.Item.Ship&&AGO.Item[e].consumption&&t&&a?(a=35e3/(a*AGO.Uni.speedFleet-10)*Math.sqrt(10*t/AGO.Ogame.getShipSpeed(e)),AGO.Item[e].consumption*t/35e3*(a/10+1)*(a/10+1)):0},getShipCapacity:function(e,t,a){return a=AGO.Ogame.getFleetDuration(e,t,a),AGO.Item[e].capacity-Math.round(AGO.Ogame.getShipConsumption(e,t,a))-1},getShipSpeed:function(e){return AGO.Ogame.initShipSpeed&&(AGO.Ogame.initShipSpeed(),AGO.Ogame.initShipSpeed=null),AGO.Item[e].speed},initShipSpeed:function(){var o=5070900<=NMR.parseVersion(AGO.App.versionOGame);OBJ.iterate(AGO.Item.Ship,function(e){var t,a,i;"202"===e&&5<=AGO.Units.get("117")?(t=1e4,a="117"):"209"===e&&15<=AGO.Units.get("118")?o&&(t=6e3,a="118"):"209"===e&&17<=AGO.Units.get("117")?o&&(t=4e3,a="117"):"211"===e&&8<=AGO.Units.get("118")?(t=5e3,a="118"):(t=AGO.Item[e].speed,a=AGO.Item[e].drive),a&&(i="115"===a?.1:"117"===a?.2:.3,AGO.Item[e].speed=Math.floor(t*(10+AGO.Units.get(a)*i*10)/10))})},getDebris:function(e,t){var a,i,o;if(a={metal:0,crystal:0},OBJ.is(e))for(o in t=t&&AGO.Uni.defToTF,i=AGO.Uni.debrisFactor||.3,e)e[o]&&(AGO.Item.Ship[o]||t&&1===AGO.Item.Defense[o])&&(a.metal+=e[o]*Math.floor(AGO.Item[o].metal*i),a.crystal+=e[o]*Math.floor(AGO.Item[o].crystal*i));return a.total=a.metal+a.crystal,a.recs=Math.ceil(a.total/2e4),a.enough=0<a.total&&a.total>=1e3*AGO.Option.get("M37",2),a},chooseTopscore:function(e,t,a,i,o,n,r,s){var l=Math.max(AGO.Uni.topScore,AGO.Option.get("S29",2));return l<1e5?e:l<1e6?t:l<5e6?a:l<25e6?i:l<5e7?o:l<75e6?n:l<1e8?r:s},getConsumptionDeuterium:function(e,t){var a;return a="12"===e?10*t*Math.pow(1.1,t):0,Math.floor(a)*AGO.Uni.speed},getConsumptionEnergy:function(e,t){var a;return"1"===e?Math.pow(1.1,t):"2"===e?Math.pow(1.1,t):"3"===e&&Math.pow(1.1,t),(a="1"===e||"2"===e?10:"3"===e?20:0)&&0<=t?Math.floor(a*t*Math.pow(1.1,t)):0},getProductionEnergy:function(e,t){var a;return a="4"===e?20*t*Math.pow(1.1,t):"12"===e?30*t*Math.pow(1.05+.01*AGO.Units.get("113"),t):"212"===e?Math.floor((AGO.Planets.Get("active","temp")+40+140)/6)*t:0,AGO.Option.is("engineer")?Math.floor(1.1*a):Math.floor(a)},getProductionResources:function(e,t){var a;return a="1"===e?30*t*Math.pow(1.1,t):"2"===e?20*t*Math.pow(1.1,t):"3"===e?10*t*Math.pow(1.1,t)*(1.28-.004*AGO.Planets.Get("active","temp")):0,AGO.Option.is("geologist")?Math.floor(1.1*a)*AGO.Uni.speed:Math.floor(a)*AGO.Uni.speed},getStandardUnitsCache:null,getStandardUnits:function(e,t){var a;if(AGO.Task.getStandardUnitsCache||(a=AGO.Option.get("B32",6).split(":"),AGO.Task.getStandardUnitsCache={metal:NMR.minMax(+a[0]||2,1,5),crystal:NMR.minMax(+a[1]||1,1,5),deuterium:NMR.minMax(+a[2]||1,1,5)}),OBJ.is(e))switch(t){case 1:return+Math.ceil((e.metal||0)*AGO.Task.getStandardUnitsCache.crystal/AGO.Task.getStandardUnitsCache.metal)+(e.crystal||0)+Math.ceil((e.deuterium||0)*AGO.Task.getStandardUnitsCache.crystal/AGO.Task.getStandardUnitsCache.deuterium);case 2:return+Math.ceil((e.metal||0)*AGO.Task.getStandardUnitsCache.deuterium/AGO.Task.getStandardUnitsCache.metal)+Math.ceil((e.crystal||0)*AGO.Task.getStandardUnitsCache.deuterium/AGO.Task.getStandardUnitsCache.crystal)+(e.deuterium||0);default:return(e.metal||0)+Math.ceil((e.crystal||0)*AGO.Task.getStandardUnitsCache.metal/AGO.Task.getStandardUnitsCache.crystal)+Math.ceil((e.deuterium||0)*AGO.Task.getStandardUnitsCache.metal/AGO.Task.getStandardUnitsCache.deuterium)}return 0},getAmortisation:function(e,t,a){return OBJ.is(t)&&0<a&&0<(e=AGO.Ogame.getStandardUnits(t,+e-1))?Math.floor(e/a*3600):0},getStorageCapacity:function(e){return 5e3*Math.floor(2.5*Math.pow(Math.E,20*e/33))},getPlayerHonor:function(e){if(e&&6<e.length){if(-1<e.indexOf("rank_starlord1"))return 1;if(-1<e.indexOf("rank_starlord2"))return 2;if(-1<e.indexOf("rank_starlord3"))return 3;if(-1<e.indexOf("rank_bandit1"))return 5;if(-1<e.indexOf("rank_bandit2"))return 6;if(-1<e.indexOf("rank_bandit3"))return 7}return 0},getHonorClass:function(e){return e?" rank_starlord1 rank_starlord2 rank_starlord3  rank_bandit1 rank_bandit2 rank_bandit3".split(" ")[e]:""}},AGO.Units={status:0,Data:{},Init:function(e){AGO.Units.Data=e||{}},Read:function(){OBJ.iterate(AGO.Item.ResourceEnergy,function(e){AGO.Units.Data[e]=AGO.Units.Data[e+"Start"]=DOM.getText("resources_"+e,"id",2)}),AGO.Units.Data.resources=AGO.Units.Data.metal+AGO.Units.Data.crystal+AGO.Units.Data.deuterium},Run:function(){AGB.message("Units","Update",{planet:AGO.Acc.planetId,data:AGO.Units.Data},function(){AGO.Units.status=1})},Timer:function(){OBJ.iterate(AGO.Item.Resource,function(e){AGO.Units.Data[e]=DOM.getText("resources_"+e,"id",2)}),AGO.Units.Data.resources=AGO.Units.Data.metal+AGO.Units.Data.crystal+AGO.Units.Data.deuterium},Update:function(a){var i;(i=new XMLHttpRequest).open("GET",AGO.Uni.url+"/game/index.php?page=fetchTechs&ajax=1",!0),i.setRequestHeader("Cache-Control","no-cache"),i.setRequestHeader("Pragma","no-cache"),i.overrideMimeType("text/html"),i.onerror=i.onload=function(){var e,t;AGO.Init.status&&(t=-1,200==+i.status&&STR.check(i.responseText)[0]===String.fromCharCode(123)&&(t=4,e={planet:"account",tabs:["Research"],data:OBJ.parse(i.responseText)},AGB.message("Units","Action",{planets:AGO.Planets.ByCoordstype,list:[e]})),AGB.Log("Update   - Units    : Research "+(-1===t?" failed !":"")),a&&a(t))},i.send(null)},get:function(e){return+AGO.Units.Data[e]||0},set:function(e,t){e&&(AGO.Units.Data[e]=+t||0)},activeResources:function(t){OBJ.is(t)&&(OBJ.iterate(AGO.Item.Resource,function(e){t[e]=+AGO.Units.Data[e]||0}),t.resources=AGO.Units.Data.resources)},activeProduction:function(){var t;t=OBJ.parse(AGO.Init.Script("production")),OBJ.iterate(AGO.Item.ResourceEnergy,function(e){t[e]&&OBJ.is(t[e].resources)&&(AGO.Units.Data[e+"Storage"]=+t[e].resources.max||0,AGO.Units.Data[e+"Production"]=+t[e].resources.production||0)})}},AGO.Time={status:0,serverTime:0,ogameTime:0,timeZoneDelta:0,localTime:Date.now(),localTimeDelta:0,localTimeRun:0,duration:0,durationRun:0,Read:function(){var e;AGO.Time.serverTime=(new Date).setTime(1e3*AGO.Acc.timestamp),AGO.Time.localTimeDelta=AGO.Time.localTime-AGO.Time.serverTime,AGO.Time.localTimeDeltaAverage=AGO.Time.localTimeDelta,AGO.Time.localTimeRun=Date.now(),AGO.Time.pageDeltaRun=AGO.Time.localTimeRun-AGO.Time.localTime,(e=AGO.App.login?0:AGO.Option.get("delta",2))&&Math.abs(AGO.Time.localTimeDeltaAverage-e)<1200&&(AGO.Time.localTimeDeltaAverage=Math.floor((9*e+AGO.Time.localTimeDeltaAverage)/10)),AGO.Option.set("delta",AGO.Time.localTimeDeltaAverage),(e=(e=document.getElementById("bar"))?e.querySelector(".OGameClock"):null)&&(AGO.Time.status=1,AGO.Time.ogameTime=AGO.Time.parse(e.textContent).getTime(),AGO.Time.timeZoneDelta=-1e4*Math.round((AGO.Time.ogameTime-AGO.Time.serverTime)/1e4))},Run:function(){var e,t,a,i,o;(t=(e=document.getElementById("bar"))?e.querySelector(".OGameClock"):null)&&(AGO.Option.is("A31")&&AGO.Time.timeZoneDelta&&(AGO.Time.status=2,t.innerHTML=AGO.Time.format(AGO.Time.ogameTime,"[d].[m].[Y] <span>[H]:[i]:[s]</span>"),AGO.Option.is("A32")&&(AGO.Time.status=3,i=AGO.Time.format(AGO.Time.ogameTime,"[d].[m].[Y] [H]:[i]:[s]",!0)),t.title=AGO.Label.get("A38"),DOM.addClass(t,null,"tooltip"),(a=document.createElement("li")).setAttribute("style","float: right; color: #848484; font-weight: 700;"),a.textContent=t.title[0],DOM.after(t,a)),AGO.Option.is("A34")&&(o=(0<AGO.Time.localTimeDelta?" (+":" (-")+Math.floor(Math.abs(AGO.Time.localTimeDelta)/100)/10+(AGO.Label.is("KD0S")||"s")+")  "+AGO.Time.format(AGO.Time.ogameTime,"[H]:[i]:[s]")),(i||o)&&((t=document.createElement("div")).className="ago_clock",o&&((a=t.appendChild(document.createElement("span"))).textContent=o),i&&((a=t.appendChild(document.createElement("span"))).id="ago_clock_server",a.className="tooltip",a.title=AGO.Label.get("A39"),a.textContent=i),DOM.appendChild(e,t)))},Display:function(){var e;e=Date.now(),AGO.Time.duration=e-AGO.Time.localTime,AGO.Time.durationRun=AGO.Time.duration-AGO.Time.pageDeltaRun,3===AGO.Time.status&&(e=e-AGO.Time.localTimeDelta-AGO.Time.timeZoneDelta,DOM.setText("ago_clock_server","id",AGO.Time.format(e,"[d].[m].[Y] [H]:[i]:[s]",!0)))},timestamp:function(){return Math.floor(Date.now()/1e3)},timestampMinute:function(){return Math.floor((Date.now()-1381e9)/6e4)},getFinishTime:function(e){return(new Date).setTime(AGO.Time.ogameTime+AGO.Time.duration+1e3*(+e||0))},format:function(e,t,a){function i(e){return e<0||9<e?e:"0"+e}return e?(!OBJ.is(e)&&500<e&&(e=new Date(e)),1<AGO.Time.status&&!a&&e.setTime(e.getTime()+AGO.Time.timeZoneDelta),t||(t=(t=new Date).getFullYear()!==e.getFullYear()?"[d].[m].[Y] [H]:[i]:[s]":t.getMonth()!==e.getMonth()||t.getDate()!==e.getDate()?"[d].[m] [H]:[i]:[s]":"[H]:[i]:[s]"),t.split("[d]").join(i(e.getDate())).split("[m]").join(i(e.getMonth()+1)).split("[Y]").join(e.getFullYear()).split("[y]").join(e.getFullYear().toString().substr(2,4)).split("[H]").join(i(e.getHours())).split("[i]").join(i(e.getMinutes())).split("[s]").join(i(e.getSeconds()))):""},formatTimestamp:function(e,t){return 1e6<e?AGO.Time.format(1e3*e,t||"[d].[m].[Y] [H]:[i]:[s]",!0):""},formatTime:function(e,t){var a,i,o,n,r,s,l;return l=e,t&&(l-=31536e3*(i=Math.floor(l/86400/365)),l-=604800*(o=Math.floor(l/86400/7)),l-=86400*(n=Math.floor(l/86400))),l-=3600*(r=Math.floor(l/3600)),l-=60*(s=Math.floor(l/60)),t?(AGO.Time.formatTimeCacheCreate(),a=[],i&&a.push(i+AGO.Time.formatTimeCache.years),o&&a.push(o+AGO.Time.formatTimeCache.weeks),n&&a.push(n+AGO.Time.formatTimeCache.days),r&&a.length<3&&a.push(r+AGO.Time.formatTimeCache.hours),s&&a.length<3&&a.push(s+AGO.Time.formatTimeCache.minutes),l&&a.length<3&&a.push(l+AGO.Time.formatTimeCache.seconds),a.join(" ")):(r<0||9<r?r:"0"+r)+":"+(s<0||9<s?s:"0"+s)+":"+(l<0||9<l?l:"0"+l)},parseFormatedTime:function(e){var t,a,i,o=0;if(e)for(AGO.Time.formatTimeCacheCreate(),e=e.trim().split(" ").reverse(),i=0;i<e.length;i++)a=NMR.parseIntAbs(e[i]),(t=(e[i]||"").replace(/\d/g,"").trim())===AGO.Time.formatTimeCache.seconds&&0===i?o+=a:t===AGO.Time.formatTimeCache.minutes?o+=60*a:t===AGO.Time.formatTimeCache.hours?o+=3600*a:t===AGO.Time.formatTimeCache.days?o+=86400*a:t===AGO.Time.formatTimeCache.weeks?o+=604800*a:t===AGO.Time.formatTimeCache.years&&(o+=31536e3*a);return o},formatTimeCacheCreate:function(){AGO.Time.formatTimeCache||(AGO.Time.formatTimeCache={years:AGO.Label.is("KD0Y")||"y",weeks:AGO.Label.is("KD0W")||"w",days:AGO.Label.is("KD0D")||"d",hours:AGO.Label.is("KD0H")||"h",minutes:AGO.Label.is("KD0M")||"m",seconds:AGO.Label.is("KD0S")||"s"})},parseTime:function(e){return 3===(e="string"==typeof e?e.replace(/[^0-9:]/g,"").split(":"):[]).length?3600*(+e[0]||0)+60*(+e[1]||0)+(+e[2]||0):0},convertLocal:function(e,t){var a;return e&&1<AGO.Time.status?(t||(t="[d].[m].[Y] [H]:[i]:[s]"),(a=AGO.Time.parse(e,t))?AGO.Time.format(a,t):e||""):e||""},parse:function(e,t){t||(t="[d].[m].[Y] [H]:[i]:[s]"),e=e.toString();var a,i=t.match(/\[[dmyYHis]\]/g);if(!i||!i.length)return null;a=(a=(a=t.replace(/\./g,"\\.")).replace(/\//g,"\\/")).replace(/\-/g,"\\-");for(var o={},n=0;n<i.length;n++){var r=i[n];a="[Y]"===r?a.replace(r,"(\\d{4,4})"):"[y]"===r?a.replace(r,"(\\d{2,2})"):a.replace(r,"(\\d{1,2})"),o[r=r.substr(1,1)]=n+1}return(i=e.match(new RegExp(a,"")))&&i.length?((a=new Date).setMilliseconds(0),a.setSeconds(0),a.setMinutes(0),a.setHours(0),i[o.s]&&a.setSeconds(i[o.s]),i[o.i]&&a.setMinutes(i[o.i]),i[o.H]&&a.setHours(i[o.H]),i[o.Y]?a.setFullYear(i[o.Y]):i[o.y]&&(n=a.getFullYear(),(n=100*Math.floor(n/100)+i[o.y])>a.getFullYear()&&(n-=100),a.setFullYear(n)),i[o.d]&&a.setDate(1),i[o.m]&&a.setMonth(i[o.m]-1),i[o.d]&&a.setDate(i[o.d]),a):null},parseDateTime:function(e,t){var a,i,o;return(e=STR.check(e))&&((i=e.match(/([^\d:]|\b)\d{1,2}\.\d{1,2}(\.\d{2}|\.\d{4})*\s+\d{1,2}:\d{1,2}:\d{1,2}([^\d:]|\b)/))?(i=STR.check(i[0]).replace(/[^\d:\.\s]/g,"").replace(/ +/g," ").trim().split(" "),a=STR.check(i[0]).split("."),o=STR.check(i[1]).split(":")):(i=e.match(/([^\d:]|\b)\d{1,2}:\d{1,2}:\d{1,2}([^\d:]|\b)/))&&(a=[],o=STR.check(i[0]).replace(/[^\d:]/g,"").trim().split(":")),OBJ.is(o)&&o.length&&o[0]<24&&o[1]<60&&o[2]<60&&((i=new Date).setMilliseconds(0),i.setSeconds(+o[2]||0),i.setMinutes(+o[1]||0),i.setHours(+o[0]||0),3===a.length&&(2e3<a[2]?i.setFullYear(+a[2]||0):a[2]<100&&((o=100*Math.floor(i.getFullYear()/100)+(+a[2]||0))>i.getFullYear()&&(o-=100),i.setFullYear(o))),2<=a.length&&(i.setDate(1),i.setMonth((+a[1]||0)-1),i.setDate(+a[0]||0)),1e9<(a=Math.floor(i.getTime()/1e3))))?t?a:i:0}},AGO.Task={Info:"galaxy system position type mission speed holdingtime expeditiontime union routine name detail detail2 preferCargo preferShip arrival metal crystal deuterium preferResource timeResource timeShip 202 203 204 205 206 207 208 209 210 211 212 213 214 215".split(" "),valid:function(e){return STR.check(e).replace(/[\"\:]/g,"").trim()},create:function(e,t){var a,i={};for(e=e||{},a=0;a<=15;a++)i[AGO.Task.Info[a]]=a<10||12===a||15===a?+e[AGO.Task.Info[a]]||0:e[AGO.Task.Info[a]]||"";if(1<=t)for(a=16;a<=20;a++)i[AGO.Task.Info[a]]=+e[AGO.Task.Info[a]]||0;if(2<=t)for(a=21;a<=35;a++)i[AGO.Task.Info[a]]=+e[AGO.Task.Info[a]]||0;return i},splitActive:function(e,t,a,i){var o,n;if((o=OBJ.split(e)).standard&&o[AGO.Acc.coordstype]){for(n in e=AGO.Task.split(o.standard,t,-1),t=AGO.Task.split(o[AGO.Acc.coordstype],t,-1))t[n]&&(e[n]=i||"string"==typeof t[n]?t[n]:Math.max(t[n],0));for(n in AGO.Task.updateCoords(e,a),e.resources=e.metal+e.crystal+e.deuterium,e.ships=0,AGO.Item.Ship)0<e[n]&&(e.ships+=e[n]);return e}return AGO.Task.split(o[AGO.Acc.coordstype]||o.standard,t,a)},split:function(e,t,a){var i,o;if(e={galaxy:+(i=STR.check(e).split(":"))[0]||0,system:+i[1]||0,position:+i[2]||0,type:+i[3]||0,mission:+i[4]||0,speed:+i[5]||0,holdingtime:+i[6]||0,expeditiontime:+i[7]||0,union:+i[8]||0,routine:+i[9]||0,name:i[10]||"",detail:i[11]||"",detail2:+i[12]||0,preferCargo:i[13]||"",preferShip:i[14]||"",arrival:+i[15]||0},0<=a&&AGO.Task.updateCoords(e,a),1<=t&&(e.metal=+i[16]||0,e.crystal=+i[17]||0,e.deuterium=+i[18]||0,e.preferResource=+i[19]||0,e.timeResource=+i[20]||0,e.resources=e.metal+e.crystal+e.deuterium),2<=t)for(e.ships=0,e.shipsCivil=0,e.shipsCombat=0,e.timeShip=+i[21]||0,o=22;o<=35;o++)a=String(o+180),t=+i[o]||0,(e[a]=t)&&"212"!==a&&(e.ships+=t,a in AGO.Item.ShipCivil&&(e.shipsCivil+=t),a in AGO.Item.ShipCombat&&(e.shipsCombat+=t));return e},splitCoords:function(e){return{galaxy:+(e=STR.check(e).split(":"))[0]||0,system:+e[1]||0,position:+e[2]||0}},join:function(e,t){var a,i;if(OBJ.is(e)){if(a=[e.galaxy||"",e.system||"",e.position||"",e.type||"",e.mission||"",e.speed||"",e.holdingtime||"",e.expeditiontime||"",e.union||"",e.routine||"",e.name||"",e.detail||"",e.detail2||"",e.preferCargo||"",e.preferShip||"",e.arrival||""],1<=t&&(a[16]=e.metal||"",a[17]=e.crystal||"",a[18]=e.deuterium||"",a[19]=e.preferResource||"",a[20]=e.timeResource||""),2<=t)for(a[21]=e.timeShip||"",i=22;i<=35;i++)a[i]=e[String(i+180)]||"";return a.join(":")||""}return""},updateCoords:function(e,t,a){OBJ.is(e)&&(!a&&AGO.Task.checkCoords(e.galaxy,e.system,e.position)?e.coords=e.galaxy+":"+e.system+":"+e.position:OBJ.is(a)&&AGO.Task.checkCoords(a.galaxy,a.system,a.position)?(e.galaxy=a.galaxy,e.system=a.system,e.position=a.position,e.coords=e.galaxy+":"+e.system+":"+e.position):t&&(a||(a=e),t<=2?(e.galaxy=2===t?AGO.Acc.galaxy:0,e.system=2===t?AGO.Acc.system:0,e.position=2===t?AGO.Acc.position:0):(e.galaxy=NMR.isMinMax(a.galaxy,1,AGO.Uni.galaxies)?a.galaxy:3===t?AGO.Acc.galaxy:0,e.system=NMR.isMinMax(a.system,1,AGO.Uni.systems)?a.system:3===t?AGO.Acc.system:0,e.position=NMR.isMinMax(a.position,1,AGO.Uni.positions)?a.position:3===t?AGO.Acc.position:0),e.coords=1===t?"":e.galaxy+":"+e.system+":"+e.position),e.owncoords=AGO.Planets.owncoords(e.coords,e.type),e.coordstype=e.coords&&e.type?e.coords+":"+e.type:"")},updateCoordsType:function(e,t){var a;t=STR.check(t),OBJ.is(e)&&(a=t.split(":"),NMR.isMinMax(+a[3],1,3)&&(e.type=+a[3]||0),AGO.Task.checkCoords(+a[0],+a[1],+a[2])?(e.galaxy=+a[0]||0,e.system=+a[1]||0,e.position=+a[2]||0,e.coords=e.galaxy+":"+e.system+":"+e.position,e.coordstype=e.type?e.coords+":"+e.type:"",e.owncoords=AGO.Planets?AGO.Planets.owncoords(e.coords,e.type):0):(delete e.coords,delete e.coordstype,delete e.owncoords))},updateResources:function(e){OBJ.is(e)&&(e.metal=+e.metal||0,e.crystal=+e.crystal||0,e.deuterium=+e.deuterium||0,e.resources=e.metal+e.crystal+e.deuterium,e.timeResource=+e.timeResource||1)},updateStandardUnits:function(e){OBJ.is(e)&&(e.standardunits=AGO.Ogame.getStandardUnits(e,AGO.Option.get("B35",2)))},addResources:function(t,a){OBJ.is(t)&&(OBJ.is(a)&&a.timeResource?(OBJ.iterate(AGO.Item.Resource,function(e){t[e]=(t[e]||0)+(a[e]||0)}),t.resources=t.metal+t.crystal+t.deuterium,t.timeResource=t.timeResource||-1):t.timeResource=t.timeResource?-1:0)},addShips:function(t,a){OBJ.is(t)&&(OBJ.is(a)&&a.timeShip?(t.shipsCivil=0,t.shipsCombat=0,OBJ.iterate(AGO.Item.ShipCivil,function(e){t[e]=(t[e]||0)+(a[e]||0),t.shipsCivil+=t[e]}),OBJ.iterate(AGO.Item.ShipCombat,function(e){t[e]=(t[e]||0)+(a[e]||0),t.shipsCombat+=t[e]}),t.ships=t.shipsCivil+t.shipsCombat,t.timeShip=t.timeShip||-1):t.timeShip=t.timeShip?-1:0)},updateShips:function(e){var t;if(OBJ.is(e))for(t in e.ships=0,e.shipsCivil=0,e.shipsCombat=0,AGO.Item.Ship)e[t]&&"212"!==t?(e.ships+=e[t],t in AGO.Item.ShipCivil&&(e.shipsCivil+=e[t]),t in AGO.Item.ShipCombat&&(e.shipsCombat+=e[t])):e[t]=0},checkCoords:function(e,t,a){return 1<=e&&e<=AGO.Uni.galaxies&&1<=t&&t<=AGO.Uni.systems&&1<=a&&a<=AGO.Uni.positions},checkCoordsPart:function(e,t){return NMR.minMax(e,1,{galaxy:AGO.Uni.galaxies,system:AGO.Uni.systems,position:AGO.Uni.positions}[t]||0)},cutSystem:function(e){return"string"==typeof e?e.split(":",2).join(":"):""},cutCoords:function(e){return"string"==typeof e?e.split(":",3).join(":"):""},cutCoordsType:function(e){return"string"==typeof e?e.split(":",4).join(":"):""},parseTarget:function(e){var t,a,i={};return(e=STR.check(e))&&((t=e.match(/([^\d:]|\b)t\s{0,2}\d{1,2}:\d{1,3}:\d{1,2}(:\d)*([^\d:]|\b)/i))&&t[0]&&(a=t[0],e=""),(t=e.match(/([^\d:]|\b)\d{1,2}\.\d{1,2}(\.\d{2}|\.\d{4})*([^\d:]|\b)/))&&t[0]&&(a=t[0]+" "+e.split(t[0])[1],e=e.split(t[0])[0]),(t=e.match(/([^\d:]|\b)\d{1,2}:\d{1,3}:\d{1,2}(:\d)*([^\d:]|\b)/))&&t[0]&&(a||(a=e.split(t[0])[1]),AGO.Task.updateCoordsType(i,t[0].replace(/[^\d:]/g,""))),a&&(i.time=AGO.Time.parseDateTime(a,!0))),i},trimCoords:function(e){var t,a;return(e=STR.check(e))?(t=e.lastIndexOf("["),a=e.lastIndexOf("]"),e.slice(-1<t?t+1:0,-1<a?a:e.length).trim()):""}},AGO.Token={Info:{},Messages:function(e,t){"Action"===e&&AGO.Token.Action(t)},Init:function(e,t){OBJ.is(e)&&(OBJ.is(e.Info)?(AGO.Token.Data=e,AGO.Token.Info=e.Info):AGO.Token.Info=e),t&&(AGO.Token.getPlayerStatusList=null)},Action:function(t){OBJ.is(t)&&(t.keyPlayer=AGO.App.keyPlayer,t.refresh="galaxy"===AGO.App.page,AGB.message("Token","Action",t,function(e){e&&e.changed&&(e.marked=t.marked,e.Data&&(AGO.Token.Data=e.Data,e.Data=null),AGO.Init.Messages("Panel","Action",e))}))},getPlayerStatus:function(e,t){var a,i,o,n,r,s;if(!AGO.Token.getPlayerStatusList)for(AGO.Token.getPlayerStatusList={},r=21;r<=30;r++)AGO.Token.Info[r]&&AGO.Token.Info[r].cls&&(AGO.Token.getPlayerStatusList["status_abbr_"+AGO.Token.Info[r].cls]=r);for(o=0,a=DOM.queryAll(e,t),s=0;s<a.length;s++)for(i=(a[s].className||"").split(" "),r=0;r<i.length;r++)(n=(i[r]||"").trim())&&(o=Math.max(AGO.Token.getPlayerStatusList[n],o));return o},getClass:function(e){return e&&AGO.Token.Info[e]?"status_abbr_"+(AGO.Token.Info[e].cls||e):""},getClassSelection:function(e){return e<=3?"ago_selection_S"+e:"ago_selection_"+e},getClassSelected:function(e,t){return"ago_selected ago_selected_"+(e<=3?"S"+e:e)+(t?"_own":"")},getClassHover:function(e,t){return"ago_hover ago_hover_"+(e<=3?"S"+e:e)+(t?"_own":"")},getClassHighlight:function(e,t){return"ago_highlight ago_highlight_"+(e<=3?"S"+e:e)+(t?"_active":"")},getColor:function(e){return e&&AGO.Token.Info[e]&&AGO.Token.Info[e].color||""},getCondition:function(e){return e&&AGO.Token.Info[e]?AGO.Token.Info[e].condition:0},getLimit:function(e){return e&&AGO.Token.Info[e]?AGO.Token.Info[e].limit:0},getLabel:function(e){return e&&AGO.Token.Info[e]?AGO.Token.Info[e].name||AGO.Label.get("C"+e):""},valid:function(e){return e?(e+"").replace(/\|/g,""):""},getColorOpacity:function(e,t){var a;return e&&AGO.Token.Info[e]&&AGO.Token.Info[e].color?(a=+AGO.Token.Info[e].opacity||(e<80?AGO.Option.get("CT2",2):AGO.Styles.opacity)||100,"INHERIT"===AGO.Token.Info[e].color?a/100:HTML.color(AGO.Token.Info[e].color,t?2*a:a)):""}},AGO.Fleet={Data:{},Task:{},Next:{},Init:function(e){AGO.Fleet.Data=e||{},console.log(AGO.App.keyPlayer),AGO.Fleet.Data.Current=AGO.Data.getStorage(AGO.App.keyPlayer+"_Fleet_Current","JSON")},Content:function(e,t,a,i){t=OBJ.parse(i),"fetcheventbox"===e?"friendly"in t&&(AGO.Fleet.Set("Current","fleets",+t.friendly||0),AGO.Init.Messages("Panel","updateTab",{tab:"Flights"})):"minifleet"===e&&t.response&&("slots"in t.response&&(AGO.Fleet.Set("Current","fleets",+OBJ.get(t.response,"slots")||0),AGO.Init.Messages("Panel","updateTab",{tab:"Flights"})),AGO.Init.Messages("Page","sendShips",{mode:"finish",success:t.response.success}))},Set:function(t,a,e){t&&AGO.Fleet.Data[t]&&(a="string"==typeof a?OBJ.createKey(a,e):a,OBJ.iterate(a,function(e){AGO.Fleet.Data[t][e]=a[e]}),"Current"===t?AGO.Data.setStorage(AGO.App.keyPlayer+"_Fleet_Current",AGO.Fleet.Data.Current):AGB.message("Fleet","Set",{tab:t,data:a}))},Get:function(e,t,a){return e=e&&AGO.Fleet.Data[e]&&(t||0===t)?AGO.Fleet.Data[e][t]:"",6===a?STR.check(e):+e||0}},AGO.DataBase={status:0,enabled:!1,Data:{},Info:{Player:"D36",Universe:"D37"},Messages:function(e,t){"Notify"===e&&AGO.DataBase.Notify(t)},Init:function(e){AGO.DataBase.Data=OBJ.is(e)?e:{},AGO.DataBase.status=AGO.DataBase.Data.status||0,AGO.DataBase.enabled=1===AGO.DataBase.Data.status},Notify:function(e){var t;OBJ.is(e)&&(t=AGO.DataBase.Info[e.tab])&&("loading"in e?AGO.Notify.set(t,3," "+e.loading+" %"):(AGO.DataBase.Init(e),AGO.Notify.set(t,4," ("+OBJ.get(AGO.DataBase.Data[e.tab],"entries")+")")))}},AGO.Tools={List:["A","B","C","D","E","F",1,2,3,4,5,6,7,8,9],Messages:function(e,t){"Action"===e&&AGO.Tools.Action(t)},Action:function(a){a&&(a.keyPlayer=AGO.App.keyPlayer,a.planetId=AGO.Acc.planetId,a.coords=AGO.Acc.coords,a.coordstype=AGO.Acc.coordstype,a.type=AGO.Acc.type,a.planetName=AGO.Acc.planetName,a.Planets={},AGO.Planets.iterate(1,function(e,t){a.Planets[t]={name:e.name,temp:e.temp}}),AGB.message("Tools","Action",a,function(e){var t;e&&e.href&&((t=document.getElementById("ago_tools_send")||document.body.appendChild(document.createElement("a"))).id="ago_tools_send",t.href=e.href,t.style.display="none",t.target=a.shiftKeys||AGO.Option.is("T01")?"_blank":"ago_tools_"+e.id,DOM.click(t))}))}};