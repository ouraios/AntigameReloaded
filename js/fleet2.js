AGO.Fleet2={filterContinue:"routine holdingtime expeditiontime union retreatAfterDefenderRetreat metal crystal deuterium preferResource arrivalUnion nameUnion coordsMarked arrivalMarked".split(" "),routine:{2:"F60",3:"FA0",4:"FH0",5:"F80",6:"F90",7:"F70",10:"FL0"},Messages:function(e,t){"Action"===e?PAGE.Action(t):"Continue"===e?PAGE.Continue():PAGE.lockedDisplay||("clickType"===e?PAGE.clickType():1!==PAGE.updateDisplaySpeed&&"Display"===e&&PAGE.Display())},Read:function(){var o,e,t;(e=document.getElementById("inhalt"))&&AGO.Option.is("F00")&&(PAGE.enabled=!0,o=PAGE.Para=OBJ.parse(AGO.Fleet.Get("Current","Task2",6)),DOM.iterate(document.querySelectorAll("#contentWrapper > form input"),function(e){var t,a;(t=STR.trim(e.name))&&"union"!==t&&(a=NMR.parseIntAbs(t),o[200<a?a:t]=+e.value||0)}),3<=(e=e.querySelectorAll("#fleetStatusBar li")).length&&(t=STR.trim(DOM.getText(e[1],null).split("]")[1]),o.planetName=1===o.type?t:"",o.moonName=3===o.type?t:"",o.playerHonor=AGO.Ogame.getPlayerHonor(DOM.getAttribute("span.honorRank",e[2],"class")),o.playerStatus=AGO.Token.getPlayerStatus('span[class^="status_abbr"]',e[2])||21,o.playerName=STR.trim(DOM.getText(e[2],null).split(":")[1])),AGO.Task.updateShips(o),o[210]&&(PAGE.Mission[6]=1),o[208]&&(PAGE.Mission[7]=1),o[209]&&(PAGE.Mission[8]=PAGE.Type[2]=1),o[214]&&(PAGE.Mission[9]=1),(2<=o.routine||AGO.Option.is("F51"))&&(o.type=PAGE.Type.check(o.type)||AGO.Acc.type,6===o.routine&&(e=AGO.Task.splitActive(AGO.Option.get("F91",-1),2,3,!0),o.type=PAGE.Type.check(e.type)||o.type),o.routine?(o.mission=PAGE.Mission.check(o.mission),o.type=8===o.mission?2:7===o.mission?1:9===o.mission?3:15===o.mission?1:o.type):o.mission=0),AGO.Task.updateCoords(o,2),PAGE.Next=OBJ.create(o),AGO.Fleet.Set("Current","Task2","")),o=e=e=e=t=null},Run:function(){PAGE.enabled&&(PAGE.Show(),PAGE.showShortcuts())},Ready:function(){var e;e=PAGE.Para,PAGE.enabled&&(0<e.union?PAGE.Action({mission:2,union:e.union}):PAGE.Display(),DOM.addEvents("speedLinks","id",{click:PAGE.onSpeed,mouseover:PAGE.onSpeed,mouseout:PAGE.onSpeed}),DOM.addEvents("#planet h2",null,{click:PAGE.onSummary}),DOM.addEvents("back","id",{click:PAGE.Back}),DOM.addEventsAll("#galaxy, #system, #position",null,{blur:PAGE.onCoords}),DOM.addEvents("ago_fleet_marked","id",{click:PAGE.onMarked}),DOM.addEventsAll("#contentWrapper .dropdown.combatunits a, #contentWrapper .dropdown.planets a",null,{click:PAGE.onDropDown}))},Timer:function(){PAGE.displayUnion(),PAGE.displayMarked()},Show:function(){var e,t,a,o;(e=document.querySelector("#contentWrapper > form"))&&(DOM.extendClass(e,null,"ago ago_improve"),PAGE.showSummary(),DOM.prependChild(e.querySelector("#shortcuts"),DOM.appendDIV(null,{id:"ago_fleet_player",class:"planetname"})),DOM.addClass("#start .planetname",e,HTML.classType(AGO.Acc.type)),(a=e.querySelector(".briefing h2"))&&(t=document.createDocumentFragment(),o=DOM.appendDIV(t,{class:"ago_fleet_details",id:"ago_fleet_union"},{display:"none"}),DOM.appendSPAN(o,"ago_fleet_label"),DOM.appendSPAN(o,"ago_fleet_duration"),DOM.appendSPAN(o,"ago_fleet_count"),DOM.appendSPAN(o,"ago_fleet_arrival"),o=DOM.appendDIV(t,{class:"ago_fleet_details ago_panel_remove",id:"ago_fleet_marked"},{display:"none"}),DOM.appendSPAN(o,"ago_fleet_label"),DOM.appendSPAN(o,"ago_fleet_duration"),DOM.appendSPAN(o,"ago_fleet_count"),DOM.appendSPAN(o,"ago_fleet_arrival"),DOM.replaceChildren(a,t)),(a=e.querySelector("#duration"))&&(o=DOM.appendLI(null,"",DOM.getTextChild(a.parentNode).split("(")[0]+":"),DOM.appendSPAN(o,{class:"value",id:"ago_fleet_duration_return"}),DOM.after(a.parentNode,o)),(a=e.querySelector("#speedLinks"))&&DOM.removeChildren(a.parentNode,3),(a=e.querySelector("#arrivalTime"))&&DOM.removeChildren(a.parentNode,3),(a=e.querySelector("#returnTime"))&&DOM.removeChildren(a.parentNode,3),(e=e.querySelector("#continue > span"))&&(t=DOM.appendTABLE(null,"ago_fleet_continue_task",{width:"100%"}),a=DOM.appendTR(t),DOM.appendTD(a,{id:"ago_fleet_continue_1_coord"}).style.width="54px",o=a.appendChild(document.createElement("td")),DOM.appendIMG(o,"/cdn/img/layout/pixel.gif","14px").id="ago_fleet_continue_1_type",o=a.appendChild(document.createElement("td")),DOM.appendIMG(o,"/cdn/img/layout/pixel.gif","17px").id="ago_fleet_continue_1_mission",e.style.lineHeight="18px",e.appendChild(t)))},showSummary:function(){function e(e,t){return 0===e?"ago_color_blue":e===t?"ago_color_palered":e===t-1?"ago_color_orange":"ago_color_lightgreen"}var t,a,o,n,r,i,s;if(t=document.getElementById("planet")){for(AGO.Task.updateResources(PAGE.Para),a=document.createDocumentFragment(),o=DOM.appendDIV(a,{id:"ago_summary_fleets"}),s=e(n=AGO.Fleet.Get("Current","fleets"),r=AGO.Fleet.Get("Current","fleetsSlots")),(o=DOM.appendA(o,{href:AGO.Uni.path+"movement",title:AGO.Label.get("E10"),class:s+" tooltip"})).textContent=AGO.Label.get("F21")+": "+n+"/"+r,s=e(n=AGO.Fleet.Get("Current","expos"),r=AGO.Fleet.Get("Current","exposSlots")),DOM.appendSPAN(o,s,AGO.Label.get("F22")+": "+n+"/"+r),o=DOM.appendDIV(a,{id:"ago_summary"}),n=DOM.appendTABLE(o,null,null,[200,223,223]),r=DOM.appendTR(n,"ago_summary_header"),o=DOM.appendTD(r,{id:"ago_summary_routine"},PAGE.routine[PAGE.Para.routine],10),o=DOM.appendTD(r,{colspan:2}),r=DOM.appendTR(n,"ago_summary_total"),o=DOM.appendTD(r,null,"I27",10),DOM.appendSPAN(o,{id:"ago_summary_resource"},PAGE.Para.resources,3),o=DOM.appendTD(r,null,"I28",10),DOM.appendSPAN(o,{id:"ago_summary_civil"},PAGE.Para.shipsCivil,3),o=DOM.appendTD(r,null,"I29",10),DOM.appendSPAN(o,{id:"ago_summary_combat"},PAGE.Para.shipsCombat,3),i={Resource:[],ShipCivil:[],ShipCombat:[]},OBJ.iterate(i,function(t){OBJ.iterate(AGO.Item[t],function(e){0<PAGE.Para[e]&&i[t].push(e)})}),s=0;s<9&&(i.Resource[s]||i.ShipCivil[s]||i.ShipCombat[s]);s++)r=DOM.appendTR(n),o=DOM.appendTD(r,null,i.Resource[s],11),DOM.appendSPAN(o,null,PAGE.Para[i.Resource[s]],2),o=DOM.appendTD(r,null,i.ShipCivil[s],11),DOM.appendSPAN(o,null,PAGE.Para[i.ShipCivil[s]],2),o=DOM.appendTD(r,null,i.ShipCombat[s],11),DOM.appendSPAN(o,null,PAGE.Para[i.ShipCombat[s]],2);t.appendChild(a)}t=a=o=n=r=o=i=n=r=s=s=null},showShortcuts:function(){function a(e,t,a){var o;e=DOM.appendA(e,{class:AGO.Token.getClassHover(t.type,t.owncoords),rel:AGO.Task.join(t,0)},{click:PAGE.onShortcuts,dblclick:PAGE.onShortcuts}),t.union&&e.setAttribute("ago-task-union",t.union),(o=e.appendChild(document.createElement("span"))).className="ago_shortcuts_coords",o.textContent=t.galaxy||t.system||t.position?(t.galaxy||"- ")+":"+(t.system||" - ")+":"+(t.position||" -"):"",(o=e.appendChild(document.createElement("span"))).className="ago_shortcuts_icon",DOM.appendIMG(o,HTML.urlTypeIcon(t.type),"14px"),(o=e.appendChild(document.createElement("span"))).className="ago_shortcuts_icon",DOM.appendIMG(o,HTML.urlMissionIcon(t.mission),"14px"),(o=e.appendChild(document.createElement("span"))).className="ago_shortcuts_speed",o.textContent=0<t.speed&&t.speed<10?10*t.speed+"%":"",a&&((o=e.appendChild(document.createElement("span"))).className="ago_shortcuts_name",o.textContent=a)}var e,t,o,n,r,i,s;if(e=document.getElementById("inhalt")){for(o=DOM.appendDIV(null,{id:"ago_shortcuts",ago_display_status:AGO.Option.is("F15")?1:2}),(n=DOM.appendDIV(o,"ago_shortcuts_header")).addEventListener("click",PAGE.onShortcuts,!1),DOM.appendA(n,"ago_display_arrow"),n=DOM.appendTABLE(o,"ago_shortcuts_content",{width:"637",margin:"0px auto"},[130,10,192,10,294]),n=DOM.appendTR(n),r=DOM.appendTD(n),DOM.appendSPAN(r,"ago_shortcuts_description","FL0",10),OBJ.iterateArray(AGO.Fleet.Data.Last,function(e){e&&a(r,AGO.Task.split(e,0,4))}),r=DOM.appendTD(n,"ago_shortcuts_spacer"),r=DOM.appendTD(n,""),DOM.appendSPAN(r,"ago_shortcuts_description","F40",10),t="F41 F42 F43 F44 F45 F46 F47 F48 F49".split(" "),s=0;s<t.length;s++)(i=AGO.Option.get(t[s],-1))&&a(r,AGO.Task.splitActive(i,0,4));t=document.getElementById("aksbox"),1<DOM.hasChildren(t)&&(DOM.appendSPAN(r,"ago_shortcuts_description",DOM.getText('#shortcuts span[id^="combatunits"]',e)),DOM.iterateChildren(t,function(e){var t;3<(t=(e.value||"").split("#")).length&&(t=[t[0],t[1],t[2],t[3],2,0,0,0,t[5]].join(":"),a(r,AGO.Task.split(t,0,4),e.textContent))})),r=DOM.appendTD(n,"ago_shortcuts_spacer"),r=DOM.appendTD(n,"ago_shortcuts_own"),DOM.set(r,null,null,null,{mouseover:PAGE.onShortcuts,mouseout:PAGE.onShortcuts,blur:PAGE.onShortcuts}),DOM.appendSPAN(r,"ago_shortcuts_description",DOM.getText('#shortcuts span[id^="shortlinks"]',e)),AGO.Planets.iterate(1,function(e){var t,a;t=DOM.appendA(r,{rel:e.coords},{click:PAGE.onShortcuts,dblclick:PAGE.onShortcuts}),DOM.appendSPAN(t,"ago_shortcuts_owncoords",e.coords),DOM.appendSPAN(t,"ago_shortcuts_ownname",e.name),a=DOM.appendSPAN(t,"ago_shortcuts_ownmoon"),(e=AGO.Planets.Data[e.moon])&&(DOM.appendIMG(a,e.img||HTML.urlTypeIcon(3),"18px"),DOM.appendTEXT(a,e.name)),a=DOM.appendSPAN(t,"ago_shortcuts_owndebris"),DOM.appendIMG(a,HTML.urlTypeIcon(2),"18px")}),DOM.before(e.querySelector("#buttonz .content .footer"),o)}e=t=o=n=n=r=t=null},Display:function(){function e(e){return PAGE.Mission[e]&&(2===a.type?8===e:8!==e&&(15===e?16===a.position:9===e?3===a.type:a.owncoords?3===e||4===e:4!==e))?e:0}var t,a,o,n,r,i;t=PAGE.Next,(o=document.querySelector("#contentWrapper > form"))&&7<=AGO.Init.status&&((n=o.querySelector("#duration"))&&(n.textContent=(n.textContent||"").split(" ")[0]),PAGE.Next.duration=+AGO.Global.message({role:"getProperty",property:"duration"})||1,DOM.setText("ago_fleet_duration_return","id",2*PAGE.Next.duration,18),PAGE.updateDisplaySpeed||(PAGE.lockedDisplay=!0,t.maxspeed=AGO.Option.is("F16")&&+AGO.Global.message({role:"maximalSpeed"},"maximalSpeed")||10,(n=o.querySelector("#speed"))&&((i=Math.min(t.speed,t.maxspeed))!==+n.value&&(n.value=i,DOM.iterate(o.querySelectorAll("#speedLinks a"),function(e){DOM.removeClass(e,null,"selected")}),DOM.addClass("#speedLinks a:nth-child("+i+")",o,"selected"),AGO.Global.message({role:"updateVariablesTimes"}))),t.lastCoords=t.coords,AGO.Task.updateCoords(t,1,{galaxy:DOM.getValue("galaxy","id",2),system:DOM.getValue("system","id",2),position:DOM.getValue("position","id",2)}),i=PAGE.Type.check(DOM.getValue("input#type",o,2))||t.type,t.union=DOM.getValue('input[name="union"]',o,2),(n=o.querySelector("#aksbox"))&&n.options[0]&&((r=t.union?n.querySelector('option[value$="#'+t.union+'"]'):null)&&-1<(r.value||"").indexOf([t.galaxy,t.system,t.position,i].join("#"))?(t.type=i,t.mission=2,t.arrivalUnion=+r.getAttribute("data-arrival-time")||0,t.nameUnion=r.textContent||""):(t.union=0,2===t.mission&&(t.mission=PAGE.Para.mission),t.arrivalUnion=0,n.selectedIndex=0,r=n.options[0],DOM.setValue('input[name="union"]',o,"0")),(n=DOM.updateAttribute(".dropdown.combatunits a",n.parentNode,"data-value",r.value))&&DOM.setText(n,null,r.textContent)),(n=o.querySelector("#slbox"))&&(r=[t.galaxy,t.system,t.position,i].join("#"),(r=n.querySelector('option[value^="'+r+'"]'))&&t.owncoords&&2!==i?(n.value=r.value,t.owncoords<3&&(t.type=i)):(n.selectedIndex=0,r=n.options[0]),(n=DOM.updateAttribute(".dropdown.planets a",n.parentNode,"data-value",r.value))&&DOM.setText(n,null,STR.check(r.getAttribute("data-html-prepend"))+STR.check(r.textContent),9)),a=OBJ.create(t),(2<=(i=PAGE.Para.routine||0)||AGO.Option.is("F51"))&&(a.type=PAGE.Type.check(a.type)||PAGE.Para.type,a.owncoords=AGO.Planets.owncoords(a.coords,a.type),a.mission=e(a.mission),16===a.position?(a.mission=15,a.type=1,a.owncoords&&(a.owncoords=1),VAL.check(i,7,6)||(i=0)):2===a.type?(a.mission=8,VAL.check(i,4,6)||(i=0)):a.owncoords&&(a.type=AGO.Planets.GetByCoords(a.coords,"moon",6)?a.owncoords<3?a.type:1===AGO.Acc.type?3:1:1,a.owncoords=AGO.Planets.owncoords(a.coords,a.type)),2!==i&&(3===i?a.owncoords&&(i=0):4===i?2!==a.type&&(i=0):7===i?16!==t.position&&(i=0):5===i?t.owncoords<2&&(i=0):6===i&&(a.mission=a.mission||e(PAGE.Para.mission))),t.routine=i,a.mission=a.mission||e(PAGE.Para.mission)||e(AGO.Option.is("F54")?4:3)||e(3)||e(4)),DOM.setValue('input[name="mission"]',o,a.mission),a.type!==DOM.getValue("input#type",o,2)&&AGO.Global.message({role:"setType",value:a.type}),DOM.updateText("ago_fleet_continue_1_coord","id",a.coords),DOM.updateAttribute("ago_fleet_continue_1_type","id","src",HTML.urlTypeIcon(a.type,"b")),DOM.updateAttribute("ago_fleet_continue_1_mission","id","src",HTML.urlMissionIcon(a.mission)),DOM.updateClass("ago_summary_routine","id",i?"on":""),PAGE.displayShortcuts(a),PAGE.displayPlayer(a),AGO.Init.Messages("Planets","Action",{mode:"select",coords:a.coords,type:a.type})),PAGE.displayUnion(),PAGE.displayMarked(),PAGE.lockedDisplay=!1,o=n=n=r=null)},displayUnion:function(){var e,t,a,o,n,r;e=PAGE.Next,t=document.getElementById("ago_fleet_union"),DOM.hasChildren(t)&&(e.displayUnion!==e.arrivalUnion&&(e.displayUnion=e.arrivalUnion,DOM.updateText(t.children[0],null,e.nameUnion+" ("+AGO.Label.get("F28")+")"),DOM.updateStyle(t,null,"display",e.arrivalUnion?"block":"none"),AGO.Init.Messages("Events","highlight",e.arrivalUnion)),e.arrivalUnion&&(0<=(a=Math.floor(e.arrivalUnion-(AGO.Time.serverTime+AGO.Time.durationRun)/1e3))&&(n=Math.floor(e.duration/130*100),r=Math.floor(1.3*a),o=e.arrivalUnion-a+r,n=e.duration<a?3:n<a?2:0<a?1:0,DOM.updateText(t.children[1],null,r,18),e=AGO.Time.formatTime(Math.abs(e.duration-r))+" / "+AGO.Time.formatTime(Math.abs(a-e.duration)),DOM.updateText(t.children[2],null,e),DOM.updateStyle(t.children[2],null,"color",["#FF0000","#D43635","#FF9600","#99CC00"][n]),DOM.updateText(t.children[3],null,o,17,"[d].[m].[y] [H]:[i]:[s]"))))},displayMarked:function(){var e,t,a,o;e=PAGE.Next,t=document.getElementById("ago_fleet_marked"),DOM.hasChildren(t)&&(e.displayMarked!==e.arrivalMarked&&(e.arrivalMarked=e.displayMarked=1e3<e.arrivalMarked?e.arrivalMarked:0,DOM.updateText(t.children[0],null,AGO.Label.get("I80")+": "+(e.coordsMarked||"")),DOM.updateText(t.children[3],null,e.arrivalMarked,17,"[d].[m].[y] [H]:[i]:[s]"),DOM.updateStyle(t,null,"display",e.arrivalMarked?"block":"none")),e.arrivalMarked&&(a=Math.floor(e.arrivalMarked-(AGO.Time.serverTime+AGO.Time.durationRun)/1e3),o=DOM.hasClass("continue","id","on")?e.duration<a?3:0<a?2:0:1,DOM.updateText(t.children[1],null,Math.max(a,0),18),DOM.updateText(t.children[2],null,Math.abs(a-e.duration),18),DOM.updateStyle(t.children[2],null,"color",["#FF0000","#D43635","#FF9600","#99CC00"][o])))},displayShortcuts:function(o){var e;(e=document.getElementById("ago_shortcuts"))&&(DOM.iterateChildren(e.querySelector(".ago_shortcuts_own"),function(e){var t,a;"A"===e.nodeName&&(t=(a=e.getAttribute("rel"))===AGO.Acc.coords?AGO.Token.getClassHighlight(AGO.Acc.type):"",DOM.setClassGroup(e,null,"ago_highlight",t),t=a===o.coords?" "+AGO.Token.getClassSelected(o.type,!0):"",DOM.setClassGroup(e,null,"ago_selected",t))}),DOM.iterate(e.querySelectorAll(".ago_hover[ago-task-union]"),function(e){var t;t=+e.getAttribute("ago-task-union")===o.union?" "+AGO.Token.getClassSelected(o.type,!0):"",DOM.setClassGroup(e,null,"ago_selected",t)})),e=null},displayPlayer:function(e){function t(e){var t,a,o,n;16===(t=PAGE.Next).position?(o=AGO.Label.get("LM15"),n=AGO.Option.get("C15",20)):t.owncoords?n=OBJ.get(AGO.Styles.colorType,e):t.coords===PAGE.Para.coords?(a=HTML.getPlayer(PAGE.Para.playerName,PAGE.Para.playerStatus,PAGE.Para.playerHonor),o=VAL.choose(e,PAGE.Para.planetName,"",PAGE.Para.moonName)):t.coords===t.playerCoords&&t.playerId?(a=HTML.getPlayer(t.playerName,t.playerStatus,t.playerHonor),o=VAL.choose(e,t.planetName,"",t.moonName)):(a="?",o=2===e?"":"?"),o&&DOM.setText("targetPlanetName","id",o,9),DOM.setStyleColor("targetPlanetName","id",n||"#8C9EAA"),DOM.setText("ago_fleet_player","id",a,9)}var a,o;a=PAGE.Next,t(o=e.type),AGO.DataBase.enabled&&a.coords!==a.playerCoords&&!a.owncoords&&(a.playerCoords=a.coords,a.playerId=0,AGB.message("DataBase","GetPlanet",{keyUni:AGO.App.keyUni,coords:a.coords},function(e){OBJ.get(e,"playerId")&&(OBJ.copy(e,PAGE.Next),t(o))})),a=null},Action:function(e){var t,a,o;t=PAGE.Next,(a=document.querySelector("#contentWrapper > form"))&&AGO.Init.status&&e&&(PAGE.lockedDisplay=!0,e.arrival&&(t.coordsMarked=e.coords||"",t.arrivalMarked=+e.arrival||0),e.union&&((o=a.querySelector('#aksbox option[value$="#'+e.union+'"]'))&&2===e.mission?DOM.setValue(o.parentNode,null,o.value,0,"change"):e.union=0),e.union||(o=[e.galaxy,e.system,e.position,e.type].join("#"),(o=a.querySelector('#slbox option[value^="'+o+'"]'))?(DOM.setValue(o.parentNode,null,o.value,0,"change"),t.type=e.type):(e.galaxy&&DOM.updateValue("galaxy","id",e.galaxy,0,"change"),e.system&&DOM.updateValue("system","id",e.system,0,"change"),e.position&&DOM.updateValue("position","id",e.position,0,"change"),e.type&&(t.type=PAGE.Type.check(e.type)||t.type,AGO.Global.message({role:"setType",value:t.type}))),t.mission=PAGE.Mission.check(e.mission)||t.mission||PAGE.Para.mission),NMR.isMinMax(e.speed,1,10)&&(t.speed=e.speed),PAGE.Display(),window.setTimeout(DOM.setFocus,10,"#continue"))},clickType:function(){var e,t;t=DOM.getAttribute("ago_global_data","id","ago-data-type",2),(e=PAGE.Type.check(t)||PAGE.Next.type)===t?PAGE.Next.type=e:DOM.setAttribute("ago_global_data","id","ago-data-type","")},Continue:function(){var t;DOM.hasClass("continue","id","on")&&(t={},DOM.addClass("continue","id","ago_selected_button"),OBJ.iterateFilter(PAGE.Next,function(e){t[e]=PAGE.Next[e]},PAGE.filterContinue),AGO.Fleet.Set("Current",{Task3:JSON.stringify(t)}),window.setTimeout(function(){AGO.Init.status&&DOM.removeClass("continue","id","ago_selected_button")},1500)),t=null},Back:function(){var t;t={},DOM.addClass("back","id","ago_selected_button"),OBJ.iterateFilter(PAGE.Next,function(e){t[e]=PAGE.Next[e]},PAGE.filterContinue),AGO.Fleet.Set("Current",{Task1:JSON.stringify(t)}),t=null},Mission:{1:1,2:1,3:1,4:1,5:1,15:1,check:function(e){return this[e]?e:0}},Type:{1:1,3:1,check:function(e){return this[e]?e:0}},onKeydown:function(e){return 13!==e.keyCode||(DOM.hasClass("continue","id","on")&&DOM.click("#continue.on"),!1)},onSwipe:function(e){"left"===e&&DOM.click("#back"),"right"===e&&DOM.click("#continue.on")},onSummary:function(e){e&&e.target&&"click"===e.type&&e.currentTarget&&"H2"===e.target.nodeName&&DOM.click("#planet .toggleHeader")},onMarked:function(){PAGE.Action({arrival:-1})},onShortcuts:function(e){var t,a,o;(a=e&&e.target?e.type:"")&&("click"===a&&e.currentTarget?"ago_shortcuts_header"===e.currentTarget.className?(t=1<DOM.getAttribute("ago_shortcuts","id","ago_display_status",2)?1:2,DOM.setAttribute("ago_shortcuts","id","ago_display_status",t,8),AGO.Option.set("F15",2!==t,1)):(t=e.currentTarget.rel||"",DOM.hasClass(e.currentTarget.parentNode,null,"ago_shortcuts_own")&&(t+=":"+("ago_shortcuts_ownmoon"===(o="SPAN"===e.target.nodeName?e.target.className:e.target.parentNode.className)?3:"ago_shortcuts_owndebris"===o?2:1)),PAGE.Action(AGO.Task.split(t,0,4))):"dblclick"===a?AGO.Option.is("U34")&&DOM.click("#fleet2 #continue"):("A"===e.target.nodeName?t=e.target:"SPAN"===e.target.nodeName?(o=e.target.className,t=e.target.parentNode):"SPAN"===e.target.parentNode.nodeName&&(o=e.target.parentNode.className,t=e.target.parentNode.parentNode),t&&"A"===t.nodeName&&DOM.setClassGroup(t,null,"ago_hover",AGO.Token.getClassHover("ago_shortcuts_ownmoon"===o?3:"ago_shortcuts_owndebris"===o?2:1,"own"))))},onCoords:function(e){var t;e&&e.currentTarget&&!NMR.parseIntAbs(e.currentTarget.value)&&(t=e.currentTarget.getAttribute("ago_value"))&&(e.currentTarget.value=t,AGO.Global.message({role:"checkOk"}),PAGE.Display())},onDropDown:function(e){(e=(e=this.getAttribute("rel"))?document.getElementById(e):null)&&(DOM.iterate(e.querySelectorAll("li a"),function(e){DOM.removeClass(e,null,"focus")}),DOM.addClass('li a[data-value="'+DOM.getAttribute(this,null,"data-value")+'"]',e,"focus"))},onSpeed:function(e){var t;"click"===(t=e&&e.target?e.type:"")?(PAGE.updateDisplaySpeed=0,PAGE.Action({speed:+e.target.getAttribute("data-value")})):"mouseover"===t?PAGE.updateDisplaySpeed=2:"mouseout"===t&&(PAGE.updateDisplaySpeed=1,window.setTimeout(function(){1===PAGE.updateDisplaySpeed&&(PAGE.updateDisplaySpeed=0,PAGE.Display())},10))}};