var AGO={Select:function(){var e,t;"getSelection"in window&&((e=window.getSelection()).rangeCount&&(t=e.toString())),!t&&document.activeElement&&("TEXTAREA"===(e=document.activeElement).tagName||"INPUT"===e.tagName&&"text"===e.type)&&(t=(e.value||"").substring(e.selectionStart,e.selectionEnd)),t&&5<=t.length&&t.length<60&&((t=AGO.parseTarget(t,1)).coords||t.time)&&(t=AGO.check(t.coordstype||t.coords)+"|"+AGO.check(t.time),AGO.Memory(t))},parseTarget:function(e){var t,o,n={};return(e=AGO.check(e))&&((t=e.match(/([^\d:]|\b)t\s{0,2}\d{1,2}:\d{1,3}:\d{1,2}(:\d)*([^\d:]|\b)/i))&&t[0]&&(o=t[0],e=""),(t=e.match(/([^\d:]|\b)\d{1,2}\.\d{1,2}(\.\d{2}|\.\d{4})*([^\d:]|\b)/))&&t[0]&&(o=t[0]+" "+e.split(t[0])[1],e=e.split(t[0])[0]),(t=e.match(/([^\d:]|\b)\d{1,2}:\d{1,3}:\d{1,2}(:\d)*([^\d:]|\b)/))&&t[0]&&(o||e.split(t[0]),AGO.updateCoordsType(n,t[0].replace(/[^\d:]/g,"")))),n},updateCoordsType:function(e,t){var o;(t=AGO.check(t))&&(1<=+(o=t.split(":"))[3]&&+o[3]<=3&&(e.type=+o[3]||0),AGO.checkCoords(+o[0],+o[1],+o[2])&&(e.galaxy=+o[0]||0,e.system=+o[1]||0,e.position=+o[2]||0,e.coords=e.galaxy+":"+e.system+":"+e.position))},checkCoords:function(e,t,o){return 1<=e&&e<=50&&1<=t&&t<=499&&1<=o&&o<=17},Memory:function(e){console.log("Memory "+e),"chrome"in window?chrome.runtime.sendMessage("",{page:"Background",role:"Set",para:{key:"Panel_Target",value:e}}):API.Messages("Background","Set",JSON.stringify({key:"Panel_Target",value:e}))},check:function(e){return"string"==typeof e?e:"number"==typeof e?e+"":""}};document.addEventListener("mouseup",function(){AGO.Select()},!1);