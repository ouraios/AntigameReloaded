var AGO={Select:function(){var e,t;"getSelection"in window&&((e=window.getSelection()).rangeCount&&(t=e.toString())),!t&&document.activeElement&&("TEXTAREA"===(e=document.activeElement).tagName||"INPUT"===e.tagName&&"text"===e.type)&&(t=(e.value||"").substring(e.selectionStart,e.selectionEnd)),t&&5<=t.length&&t.length<60&&((t=AGO.parseTarget(t,1)).coords||t.time)&&(t=AGO.check(t.coordstype||t.coords)+"|"+AGO.check(t.time),AGO.Memory(t))},parseTarget:function(e){var t,n,o={};return(e=AGO.check(e))&&((t=e.match(/([^\d:]|\b)t\s{0,2}\d{1,2}:\d{1,3}:\d{1,2}(:\d)*([^\d:]|\b)/i))&&t[0]&&(n=t[0],e=""),(t=e.match(/([^\d:]|\b)\d{1,2}\.\d{1,2}(\.\d{2}|\.\d{4})*([^\d:]|\b)/))&&t[0]&&(n=t[0]+" "+e.split(t[0])[1],e=e.split(t[0])[0]),(t=e.match(/([^\d:]|\b)\d{1,2}:\d{1,3}:\d{1,2}(:\d)*([^\d:]|\b)/))&&t[0]&&(n||e.split(t[0]),AGO.updateCoordsType(o,t[0].replace(/[^\d:]/g,"")))),o},updateCoordsType:function(e,t){var n;(t=AGO.check(t))&&(1<=+(n=t.split(":"))[3]&&+n[3]<=3&&(e.type=+n[3]||0),AGO.checkCoords(+n[0],+n[1],+n[2])&&(e.galaxy=+n[0]||0,e.system=+n[1]||0,e.position=+n[2]||0,e.coords=e.galaxy+":"+e.system+":"+e.position))},checkCoords:function(e,t,n){return 1<=e&&e<=50&&1<=t&&t<=499&&1<=n&&n<=17},Memory:function(e){"chrome"in window?chrome.runtime.sendMessage("",{page:"Background",role:"Set",para:{key:"Panel_Target",value:e}}):API.Messages("Background","Set",JSON.stringify({key:"Panel_Target",value:e}))},check:function(e){return"string"==typeof e?e:"number"==typeof e?e+"":""}};document.addEventListener("mouseup",function(){AGO.Select()},!1);